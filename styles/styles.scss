@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  scroll-behavior: smooth;
}

body {
  font-family: "JetBrains Mono", monospace;
}

/*
  My hot take on the "Next.js vertical image on horizontal screen" problem.
    Apply .vertical-image-div to a div wrapped outside
    <Image className="vertical-image" layout="fill"> tag.
 */
.vertical-image-div > div {
  position: unset !important;
}

/* This is hard-coded, which is *probably* not good(?) */
@screen md {
  .vertical-image-div > div {
    position: absolute !important;
  }
}

.vertical-image {
  object-fit: contain;
  width: 100% !important;
  position: relative !important;
  height: unset !important;
}

:target {
  scroll-margin-top: 5rem;
}

.toc {
  @apply mx-auto w-[65ch] max-w-full lg:absolute lg:left-full lg:h-full lg:ml-4;

  @screen lg {
    width: calc((100vw - 65ch) / 2 - 5rem);
  }

  @screen xl {
    width: calc((100vw - 65ch) / 2 - 8rem);
  }

  aside {
    @apply text-gray-300 bg-black p-4 rounded-md mb-5 text-sm overflow-hidden max-h-[75vh] overflow-y-auto lg:my-0 lg:sticky lg:top-20;
  }

  h2 {
    @apply pb-4;
    &::before {
      content: ">_ ";
    }
  }

  ul ul {
    padding-left: 2ch;
  }

  a {
    &::before {
      content: "[x] ";
      @apply text-indigo-600 font-bold;
    }
  }
}
